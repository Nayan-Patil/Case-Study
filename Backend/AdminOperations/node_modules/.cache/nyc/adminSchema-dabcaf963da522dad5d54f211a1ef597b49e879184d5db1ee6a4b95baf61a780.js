function cov_2iuzbki35j(){var path="C:\\casestudy2\\API\\AdminOperations\\DB\\adminSchema.js";var hash="d5b881b9715c90ca145c919d22b8ae0981901cfb";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\casestudy2\\API\\AdminOperations\\DB\\adminSchema.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:34}},"1":{start:{line:2,column:13},end:{line:2,column:30}},"2":{start:{line:3,column:16},end:{line:3,column:36}},"3":{start:{line:4,column:13},end:{line:4,column:28}},"4":{start:{line:6,column:18},end:{line:21,column:2}},"5":{start:{line:22,column:0},end:{line:26,column:2}},"6":{start:{line:23,column:15},end:{line:23,column:37}},"7":{start:{line:24,column:4},end:{line:24,column:57}},"8":{start:{line:25,column:4},end:{line:25,column:11}},"9":{start:{line:28,column:0},end:{line:38,column:5}},"10":{start:{line:29,column:18},end:{line:29,column:51}},"11":{start:{line:30,column:4},end:{line:36,column:5}},"12":{start:{line:31,column:19},end:{line:31,column:59}},"13":{start:{line:32,column:8},end:{line:34,column:9}},"14":{start:{line:33,column:12},end:{line:33,column:25}},"15":{start:{line:35,column:8},end:{line:35,column:39}},"16":{start:{line:37,column:4},end:{line:37,column:36}},"17":{start:{line:40,column:0},end:{line:40,column:68}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:22,column:24},end:{line:22,column:25}},loc:{start:{line:22,column:44},end:{line:26,column:1}},line:22},"1":{name:"(anonymous_1)",decl:{start:{line:28,column:26},end:{line:28,column:27}},loc:{start:{line:28,column:57},end:{line:38,column:5}},line:28}},branchMap:{"0":{loc:{start:{line:30,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:36,column:5}},{start:{line:30,column:4},end:{line:36,column:5}}],line:30},"1":{loc:{start:{line:32,column:8},end:{line:34,column:9}},type:"if",locations:[{start:{line:32,column:8},end:{line:34,column:9}},{start:{line:32,column:8},end:{line:34,column:9}}],line:32}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d5b881b9715c90ca145c919d22b8ae0981901cfb"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2iuzbki35j=function(){return actualCoverage;};}return actualCoverage;}cov_2iuzbki35j();const mongoose=(cov_2iuzbki35j().s[0]++,require('mongoose'));const bcrypt=(cov_2iuzbki35j().s[1]++,require('bcrypt'));const{isEmail}=(cov_2iuzbki35j().s[2]++,require('validator'));const Schema=(cov_2iuzbki35j().s[3]++,mongoose.Schema);const adminSchema=(cov_2iuzbki35j().s[4]++,new Schema({name:{type:String,required:[true,'enter a name']},email:{type:String,required:[true,"Enter an email ID"],validate:[isEmail,'enter valid email address']},password:{type:String,required:[true,"Enter a password"],minlength:6}}));cov_2iuzbki35j().s[5]++;adminSchema.pre('save',async function(next){cov_2iuzbki35j().f[0]++;const salt=(cov_2iuzbki35j().s[6]++,await bcrypt.genSalt());cov_2iuzbki35j().s[7]++;this.password=await bcrypt.hash(this.password,salt);cov_2iuzbki35j().s[8]++;next();});cov_2iuzbki35j().s[9]++;adminSchema.statics.login=async function(email,password){cov_2iuzbki35j().f[1]++;const admin=(cov_2iuzbki35j().s[10]++,await this.findOne({email:email}));cov_2iuzbki35j().s[11]++;if(admin){cov_2iuzbki35j().b[0][0]++;const auth=(cov_2iuzbki35j().s[12]++,bcrypt.compare(password,admin.password));cov_2iuzbki35j().s[13]++;if(auth){cov_2iuzbki35j().b[1][0]++;cov_2iuzbki35j().s[14]++;return admin;}else{cov_2iuzbki35j().b[1][1]++;}cov_2iuzbki35j().s[15]++;throw Error("Wrong password");}else{cov_2iuzbki35j().b[0][1]++;}cov_2iuzbki35j().s[16]++;throw Error("Wrong emmail Id");};cov_2iuzbki35j().s[17]++;module.exports=adminData=mongoose.model("adminDetails",adminSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluU2NoZW1hLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImJjcnlwdCIsImlzRW1haWwiLCJTY2hlbWEiLCJhZG1pblNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJlbWFpbCIsInZhbGlkYXRlIiwicGFzc3dvcmQiLCJtaW5sZW5ndGgiLCJwcmUiLCJuZXh0Iiwic2FsdCIsImdlblNhbHQiLCJoYXNoIiwic3RhdGljcyIsImxvZ2luIiwiYWRtaW4iLCJmaW5kT25lIiwiYXV0aCIsImNvbXBhcmUiLCJFcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiLCJhZG1pbkRhdGEiLCJtb2RlbCJdLCJtYXBwaW5ncyI6ImkzRUFlWTsyRkFmWixLQUFNQSxDQUFBQSxRQUFRLDBCQUFDQyxPQUFPLENBQUMsVUFBRCxDQUFSLENBQWQsQ0FDQSxLQUFNQyxDQUFBQSxNQUFNLDBCQUFDRCxPQUFPLENBQUMsUUFBRCxDQUFSLENBQVosQ0FDQSxLQUFNLENBQUNFLE9BQUQsMkJBQVVGLE9BQU8sQ0FBQyxXQUFELENBQWpCLENBQU4sQ0FDQSxLQUFNRyxDQUFBQSxNQUFNLDBCQUFDSixRQUFRLENBQUNJLE1BQVYsQ0FBWixDQUVBLEtBQU1DLENBQUFBLFdBQVcsMEJBQUMsR0FBSUQsQ0FBQUEsTUFBSixDQUFXLENBQ3pCRSxJQUFJLENBQUMsQ0FDREMsSUFBSSxDQUFDQyxNQURKLENBRURDLFFBQVEsQ0FBQyxDQUFDLElBQUQsQ0FBTyxjQUFQLENBRlIsQ0FEb0IsQ0FLekJDLEtBQUssQ0FBQyxDQUNGSCxJQUFJLENBQUNDLE1BREgsQ0FFRkMsUUFBUSxDQUFDLENBQUMsSUFBRCxDQUFPLG1CQUFQLENBRlAsQ0FHRkUsUUFBUSxDQUFDLENBQUNSLE9BQUQsQ0FBVSwyQkFBVixDQUhQLENBTG1CLENBVXpCUyxRQUFRLENBQUMsQ0FDTEwsSUFBSSxDQUFDQyxNQURBLENBRUxDLFFBQVEsQ0FBQyxDQUFDLElBQUQsQ0FBTyxrQkFBUCxDQUZKLENBR0xJLFNBQVMsQ0FBQyxDQUhMLENBVmdCLENBQVgsQ0FBRCxDQUFqQixDLHdCQWdCQVIsV0FBVyxDQUFDUyxHQUFaLENBQWdCLE1BQWhCLENBQXdCLGVBQWVDLElBQWYsQ0FBb0IseUJBQ3hDLEtBQU1DLENBQUFBLElBQUksMEJBQUMsS0FBTWQsQ0FBQUEsTUFBTSxDQUFDZSxPQUFQLEVBQVAsQ0FBVixDQUR3Qyx3QkFFeEMsS0FBS0wsUUFBTCxDQUFjLEtBQU1WLENBQUFBLE1BQU0sQ0FBQ2dCLElBQVAsQ0FBWSxLQUFLTixRQUFqQixDQUEyQkksSUFBM0IsQ0FBcEIsQ0FGd0Msd0JBR3hDRCxJQUFJLEdBQ1AsQ0FKRCxFLHdCQU1BVixXQUFXLENBQUNjLE9BQVosQ0FBb0JDLEtBQXBCLENBQTBCLGVBQWVWLEtBQWYsQ0FBc0JFLFFBQXRCLENBQStCLHlCQUNyRCxLQUFNUyxDQUFBQSxLQUFLLDJCQUFHLEtBQU0sTUFBS0MsT0FBTCxDQUFhLENBQUNaLEtBQUssQ0FBQ0EsS0FBUCxDQUFiLENBQVQsQ0FBWCxDQURxRCx5QkFFckQsR0FBR1csS0FBSCxDQUFTLDRCQUNMLEtBQU1FLENBQUFBLElBQUksMkJBQUNyQixNQUFNLENBQUNzQixPQUFQLENBQWVaLFFBQWYsQ0FBeUJTLEtBQUssQ0FBQ1QsUUFBL0IsQ0FBRCxDQUFWLENBREsseUJBRUwsR0FBR1csSUFBSCxDQUFRLHFEQUNKLE1BQU9GLENBQUFBLEtBQVAsQ0FDSCxDQUZELGlDQUZLLHlCQUtMLEtBQU1JLENBQUFBLEtBQUssQ0FBRSxnQkFBRixDQUFYLENBQ0gsQ0FORCxpQ0FGcUQseUJBU3JELEtBQU1BLENBQUFBLEtBQUssQ0FBRSxpQkFBRixDQUFYLENBQ0MsQ0FWTCxDLHlCQVlBQyxNQUFNLENBQUNDLE9BQVAsQ0FBZUMsU0FBUyxDQUFDNUIsUUFBUSxDQUFDNkIsS0FBVCxDQUFlLGNBQWYsQ0FBOEJ4QixXQUE5QixDQUF6QiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlPXJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCBiY3J5cHQ9cmVxdWlyZSgnYmNyeXB0Jyk7IFxuY29uc3Qge2lzRW1haWx9PXJlcXVpcmUoJ3ZhbGlkYXRvcicpO1xuY29uc3QgU2NoZW1hPW1vbmdvb3NlLlNjaGVtYTtcblxuY29uc3QgYWRtaW5TY2hlbWE9bmV3IFNjaGVtYSh7XG4gICAgbmFtZTp7XG4gICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICByZXF1aXJlZDpbdHJ1ZSwgJ2VudGVyIGEgbmFtZSddXG4gICAgfSxcbiAgICBlbWFpbDp7XG4gICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICByZXF1aXJlZDpbdHJ1ZSwgXCJFbnRlciBhbiBlbWFpbCBJRFwiXSxcbiAgICAgICAgdmFsaWRhdGU6W2lzRW1haWwsICdlbnRlciB2YWxpZCBlbWFpbCBhZGRyZXNzJ11cbiAgICB9LFxuICAgIHBhc3N3b3JkOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOlt0cnVlLCBcIkVudGVyIGEgcGFzc3dvcmRcIl0sXG4gICAgICAgIG1pbmxlbmd0aDo2XG4gICAgfVxufSk7XG5hZG1pblNjaGVtYS5wcmUoJ3NhdmUnLCBhc3luYyBmdW5jdGlvbihuZXh0KXtcbiAgICBjb25zdCBzYWx0PWF3YWl0IGJjcnlwdC5nZW5TYWx0KCk7XG4gICAgdGhpcy5wYXNzd29yZD1hd2FpdCBiY3J5cHQuaGFzaCh0aGlzLnBhc3N3b3JkLCBzYWx0KTtcbiAgICBuZXh0KCk7XG59KVxuXG5hZG1pblNjaGVtYS5zdGF0aWNzLmxvZ2luPWFzeW5jIGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCl7XG4gICAgY29uc3QgYWRtaW4gPSBhd2FpdCB0aGlzLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSk7XG4gICAgaWYoYWRtaW4pe1xuICAgICAgICBjb25zdCBhdXRoPWJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBhZG1pbi5wYXNzd29yZCk7XG4gICAgICAgIGlmKGF1dGgpe1xuICAgICAgICAgICAgcmV0dXJuIGFkbWluO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IEVycm9yIChcIldyb25nIHBhc3N3b3JkXCIpO1xuICAgIH1cbiAgICB0aHJvdyBFcnJvciAoXCJXcm9uZyBlbW1haWwgSWRcIik7XG4gICAgfVxuICAgIFxubW9kdWxlLmV4cG9ydHM9YWRtaW5EYXRhPW1vbmdvb3NlLm1vZGVsKFwiYWRtaW5EZXRhaWxzXCIsYWRtaW5TY2hlbWEpO1xuIl19
function cov_225j1p4n6i(){var path="C:\\casestudy2\\API\\AdminOperations\\train.js";var hash="b4667864effac63b86ef1edf49fa785066d102ee";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\casestudy2\\API\\AdminOperations\\train.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:33}},"1":{start:{line:2,column:11},end:{line:2,column:26}},"2":{start:{line:3,column:16},end:{line:3,column:42}},"3":{start:{line:4,column:19},end:{line:4,column:28}},"4":{start:{line:5,column:13},end:{line:5,column:30}},"5":{start:{line:6,column:10},end:{line:6,column:33}},"6":{start:{line:7,column:19},end:{line:7,column:43}},"7":{start:{line:8,column:16},end:{line:8,column:45}},"8":{start:{line:9,column:0},end:{line:9,column:12}},"9":{start:{line:12,column:21},end:{line:25,column:1}},"10":{start:{line:27,column:18},end:{line:27,column:46}},"11":{start:{line:28,column:0},end:{line:28,column:77}},"12":{start:{line:31,column:18},end:{line:31,column:43}},"13":{start:{line:33,column:23},end:{line:33,column:49}},"14":{start:{line:35,column:17},end:{line:35,column:44}},"15":{start:{line:36,column:17},end:{line:36,column:39}},"16":{start:{line:38,column:0},end:{line:38,column:59}},"17":{start:{line:39,column:0},end:{line:39,column:36}},"18":{start:{line:40,column:0},end:{line:40,column:25}},"19":{start:{line:48,column:0},end:{line:67,column:2}},"20":{start:{line:49,column:4},end:{line:66,column:5}},"21":{start:{line:50,column:18},end:{line:50,column:20}},"22":{start:{line:51,column:8},end:{line:51,column:33}},"23":{start:{line:52,column:8},end:{line:52,column:35}},"24":{start:{line:53,column:8},end:{line:53,column:41}},"25":{start:{line:55,column:23},end:{line:55,column:43}},"26":{start:{line:56,column:8},end:{line:56,column:32}},"27":{start:{line:58,column:20},end:{line:58,column:39}},"28":{start:{line:59,column:18},end:{line:59,column:44}},"29":{start:{line:61,column:8},end:{line:61,column:38}},"30":{start:{line:62,column:8},end:{line:62,column:28}},"31":{start:{line:65,column:8},end:{line:65,column:34}},"32":{start:{line:69,column:0},end:{line:95,column:2}},"33":{start:{line:70,column:16},end:{line:70,column:30}},"34":{start:{line:71,column:17},end:{line:71,column:59}},"35":{start:{line:72,column:4},end:{line:93,column:6}},"36":{start:{line:73,column:8},end:{line:92,column:9}},"37":{start:{line:74,column:12},end:{line:74,column:31}},"38":{start:{line:77,column:12},end:{line:90,column:13}},"39":{start:{line:78,column:16},end:{line:78,column:53}},"40":{start:{line:81,column:27},end:{line:81,column:74}},"41":{start:{line:82,column:16},end:{line:89,column:17}},"42":{start:{line:83,column:32},end:{line:83,column:52}},"43":{start:{line:84,column:30},end:{line:84,column:57}},"44":{start:{line:85,column:20},end:{line:85,column:49}},"45":{start:{line:88,column:20},end:{line:88,column:61}},"46":{start:{line:154,column:0},end:{line:174,column:2}},"47":{start:{line:155,column:3},end:{line:173,column:2}},"48":{start:{line:155,column:97},end:{line:155,column:105}},"49":{start:{line:157,column:14},end:{line:157,column:16}},"50":{start:{line:158,column:4},end:{line:158,column:34}},"51":{start:{line:159,column:4},end:{line:159,column:30}},"52":{start:{line:160,column:4},end:{line:160,column:24}},"53":{start:{line:161,column:4},end:{line:161,column:34}},"54":{start:{line:162,column:4},end:{line:162,column:34}},"55":{start:{line:163,column:4},end:{line:163,column:28}},"56":{start:{line:164,column:4},end:{line:164,column:22}},"57":{start:{line:165,column:4},end:{line:165,column:22}},"58":{start:{line:166,column:20},end:{line:166,column:40}},"59":{start:{line:167,column:4},end:{line:167,column:22}},"60":{start:{line:169,column:4},end:{line:169,column:37}},"61":{start:{line:172,column:4},end:{line:172,column:30}},"62":{start:{line:175,column:0},end:{line:185,column:2}},"63":{start:{line:176,column:28},end:{line:176,column:36}},"64":{start:{line:178,column:19},end:{line:178,column:21}},"65":{start:{line:179,column:4},end:{line:179,column:35}},"66":{start:{line:180,column:4},end:{line:180,column:25}},"67":{start:{line:181,column:23},end:{line:181,column:53}},"68":{start:{line:182,column:4},end:{line:182,column:28}},"69":{start:{line:184,column:4},end:{line:184,column:25}},"70":{start:{line:187,column:0},end:{line:207,column:2}},"71":{start:{line:188,column:24},end:{line:188,column:34}},"72":{start:{line:189,column:18},end:{line:189,column:43}},"73":{start:{line:190,column:16},end:{line:205,column:5}},"74":{start:{line:191,column:8},end:{line:204,column:10}},"75":{start:{line:197,column:12},end:{line:199,column:13}},"76":{start:{line:198,column:16},end:{line:198,column:33}},"77":{start:{line:201,column:16},end:{line:201,column:33}},"78":{start:{line:206,column:4},end:{line:206,column:23}},"79":{start:{line:223,column:0},end:{line:245,column:6}},"80":{start:{line:226,column:23},end:{line:241,column:5}},"81":{start:{line:227,column:8},end:{line:240,column:11}},"82":{start:{line:233,column:12},end:{line:236,column:13}},"83":{start:{line:234,column:16},end:{line:234,column:33}},"84":{start:{line:235,column:16},end:{line:235,column:63}},"85":{start:{line:237,column:8},end:{line:237,column:37}},"86":{start:{line:243,column:4},end:{line:243,column:19}},"87":{start:{line:250,column:0},end:{line:274,column:6}},"88":{start:{line:251,column:24},end:{line:251,column:34}},"89":{start:{line:252,column:16},end:{line:252,column:38}},"90":{start:{line:253,column:12},end:{line:253,column:39}},"91":{start:{line:254,column:23},end:{line:270,column:5}},"92":{start:{line:255,column:8},end:{line:269,column:11}},"93":{start:{line:262,column:12},end:{line:265,column:13}},"94":{start:{line:263,column:16},end:{line:263,column:33}},"95":{start:{line:264,column:16},end:{line:264,column:23}},"96":{start:{line:266,column:8},end:{line:266,column:37}},"97":{start:{line:272,column:4},end:{line:272,column:31}},"98":{start:{line:279,column:4},end:{line:304,column:10}},"99":{start:{line:280,column:28},end:{line:280,column:37}},"100":{start:{line:282,column:21},end:{line:282,column:46}},"101":{start:{line:284,column:23},end:{line:300,column:9}},"102":{start:{line:285,column:12},end:{line:299,column:15}},"103":{start:{line:292,column:16},end:{line:295,column:17}},"104":{start:{line:293,column:20},end:{line:293,column:37}},"105":{start:{line:294,column:20},end:{line:294,column:27}},"106":{start:{line:296,column:16},end:{line:296,column:33}},"107":{start:{line:302,column:8},end:{line:302,column:29}},"108":{start:{line:307,column:4},end:{line:328,column:7}},"109":{start:{line:308,column:8},end:{line:326,column:10}},"110":{start:{line:316,column:12},end:{line:324,column:13}},"111":{start:{line:317,column:16},end:{line:317,column:45}},"112":{start:{line:318,column:16},end:{line:318,column:33}},"113":{start:{line:320,column:16},end:{line:320,column:38}},"114":{start:{line:321,column:16},end:{line:321,column:32}},"115":{start:{line:322,column:16},end:{line:322,column:35}},"116":{start:{line:323,column:16},end:{line:323,column:39}},"117":{start:{line:330,column:4},end:{line:342,column:6}},"118":{start:{line:331,column:9},end:{line:331,column:44}},"119":{start:{line:332,column:8},end:{line:340,column:10}},"120":{start:{line:336,column:12},end:{line:336,column:32}},"121":{start:{line:339,column:12},end:{line:339,column:29}},"122":{start:{line:356,column:0},end:{line:356,column:26}},"123":{start:{line:358,column:0},end:{line:358,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:48,column:27},end:{line:48,column:28}},loc:{start:{line:48,column:43},end:{line:67,column:1}},line:48},"1":{name:"(anonymous_1)",decl:{start:{line:69,column:33},end:{line:69,column:34}},loc:{start:{line:69,column:45},end:{line:95,column:1}},line:69},"2":{name:"(anonymous_2)",decl:{start:{line:72,column:45},end:{line:72,column:46}},loc:{start:{line:72,column:61},end:{line:93,column:5}},line:72},"3":{name:"(anonymous_3)",decl:{start:{line:154,column:32},end:{line:154,column:33}},loc:{start:{line:154,column:43},end:{line:174,column:1}},line:154},"4":{name:"(anonymous_4)",decl:{start:{line:175,column:33},end:{line:175,column:34}},loc:{start:{line:175,column:49},end:{line:185,column:1}},line:175},"5":{name:"(anonymous_5)",decl:{start:{line:187,column:41},end:{line:187,column:42}},loc:{start:{line:187,column:57},end:{line:207,column:1}},line:187},"6":{name:"(anonymous_6)",decl:{start:{line:190,column:16},end:{line:190,column:17}},loc:{start:{line:190,column:35},end:{line:205,column:5}},line:190},"7":{name:"(anonymous_7)",decl:{start:{line:196,column:8},end:{line:196,column:9}},loc:{start:{line:196,column:29},end:{line:203,column:9}},line:196},"8":{name:"(anonymous_8)",decl:{start:{line:223,column:31},end:{line:223,column:32}},loc:{start:{line:223,column:42},end:{line:245,column:5}},line:223},"9":{name:"(anonymous_9)",decl:{start:{line:226,column:23},end:{line:226,column:24}},loc:{start:{line:226,column:34},end:{line:241,column:5}},line:226},"10":{name:"(anonymous_10)",decl:{start:{line:232,column:11},end:{line:232,column:12}},loc:{start:{line:232,column:34},end:{line:240,column:9}},line:232},"11":{name:"(anonymous_11)",decl:{start:{line:250,column:51},end:{line:250,column:52}},loc:{start:{line:250,column:62},end:{line:274,column:5}},line:250},"12":{name:"(anonymous_12)",decl:{start:{line:254,column:23},end:{line:254,column:24}},loc:{start:{line:254,column:53},end:{line:270,column:5}},line:254},"13":{name:"(anonymous_13)",decl:{start:{line:261,column:11},end:{line:261,column:12}},loc:{start:{line:261,column:34},end:{line:269,column:9}},line:261},"14":{name:"(anonymous_14)",decl:{start:{line:279,column:30},end:{line:279,column:31}},loc:{start:{line:279,column:41},end:{line:304,column:9}},line:279},"15":{name:"(anonymous_15)",decl:{start:{line:284,column:23},end:{line:284,column:24}},loc:{start:{line:284,column:43},end:{line:300,column:9}},line:284},"16":{name:"(anonymous_16)",decl:{start:{line:291,column:15},end:{line:291,column:16}},loc:{start:{line:291,column:38},end:{line:299,column:13}},line:291},"17":{name:"(anonymous_17)",decl:{start:{line:307,column:49},end:{line:307,column:50}},loc:{start:{line:307,column:60},end:{line:328,column:5}},line:307},"18":{name:"(anonymous_18)",decl:{start:{line:315,column:8},end:{line:315,column:9}},loc:{start:{line:315,column:31},end:{line:325,column:9}},line:315},"19":{name:"(anonymous_19)",decl:{start:{line:330,column:53},end:{line:330,column:54}},loc:{start:{line:330,column:64},end:{line:342,column:5}},line:330},"20":{name:"(anonymous_20)",decl:{start:{line:335,column:16},end:{line:335,column:17}},loc:{start:{line:335,column:25},end:{line:337,column:9}},line:335},"21":{name:"(anonymous_21)",decl:{start:{line:338,column:15},end:{line:338,column:16}},loc:{start:{line:338,column:22},end:{line:340,column:9}},line:338}},branchMap:{"0":{loc:{start:{line:73,column:8},end:{line:92,column:9}},type:"if",locations:[{start:{line:73,column:8},end:{line:92,column:9}},{start:{line:73,column:8},end:{line:92,column:9}}],line:73},"1":{loc:{start:{line:77,column:12},end:{line:90,column:13}},type:"if",locations:[{start:{line:77,column:12},end:{line:90,column:13}},{start:{line:77,column:12},end:{line:90,column:13}}],line:77},"2":{loc:{start:{line:82,column:16},end:{line:89,column:17}},type:"if",locations:[{start:{line:82,column:16},end:{line:89,column:17}},{start:{line:82,column:16},end:{line:89,column:17}}],line:82},"3":{loc:{start:{line:197,column:12},end:{line:199,column:13}},type:"if",locations:[{start:{line:197,column:12},end:{line:199,column:13}},{start:{line:197,column:12},end:{line:199,column:13}}],line:197},"4":{loc:{start:{line:233,column:12},end:{line:236,column:13}},type:"if",locations:[{start:{line:233,column:12},end:{line:236,column:13}},{start:{line:233,column:12},end:{line:236,column:13}}],line:233},"5":{loc:{start:{line:262,column:12},end:{line:265,column:13}},type:"if",locations:[{start:{line:262,column:12},end:{line:265,column:13}},{start:{line:262,column:12},end:{line:265,column:13}}],line:262},"6":{loc:{start:{line:292,column:16},end:{line:295,column:17}},type:"if",locations:[{start:{line:292,column:16},end:{line:295,column:17}},{start:{line:292,column:16},end:{line:295,column:17}}],line:292},"7":{loc:{start:{line:316,column:12},end:{line:324,column:13}},type:"if",locations:[{start:{line:316,column:12},end:{line:324,column:13}},{start:{line:316,column:12},end:{line:324,column:13}}],line:316}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b4667864effac63b86ef1edf49fa785066d102ee"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_225j1p4n6i=function(){return actualCoverage;};}return actualCoverage;}cov_225j1p4n6i();const express=(cov_225j1p4n6i().s[0]++,require('express'));const cors=(cov_225j1p4n6i().s[1]++,require('cors'));const connectDB=(cov_225j1p4n6i().s[2]++,require('./DB/connection'));const search_train=(cov_225j1p4n6i().s[3]++,express());const bcrypt=(cov_225j1p4n6i().s[4]++,require('bcrypt'));const jwt=(cov_225j1p4n6i().s[5]++,require('jsonwebtoken'));const swaggerJsDoc=(cov_225j1p4n6i().s[6]++,require('swagger-jsdoc'));const swaggerUi=(cov_225j1p4n6i().s[7]++,require('swagger-ui-express'));cov_225j1p4n6i().s[8]++;connectDB();//swagger
const swaggerOptions=(cov_225j1p4n6i().s[9]++,{definition:{openapi:'3.0.0',info:{title:'Train API',description:'Train API information',contact:{name:''},servers:["http://localhost:3000"]}},apis:['search_train.js']});const swaggerDocs=(cov_225j1p4n6i().s[10]++,swaggerJsDoc(swaggerOptions));cov_225j1p4n6i().s[11]++;search_train.use('/train-docs',swaggerUi.serve,swaggerUi.setup(swaggerDocs));//const Train= require('./DB/trainData');
const trainData=(cov_225j1p4n6i().s[12]++,require('./DB/trainData'));const trainClassData=(cov_225j1p4n6i().s[13]++,require('./DB/classModel'));// admin data
const adminData=(cov_225j1p4n6i().s[14]++,require('./DB/adminSchema'));const bodyParser=(cov_225j1p4n6i().s[15]++,require('body-parser'));//search_train.use(express.json({extended : false}));
cov_225j1p4n6i().s[16]++;search_train.use(bodyParser.urlencoded({extended:false}));cov_225j1p4n6i().s[17]++;search_train.use(bodyParser.json());cov_225j1p4n6i().s[18]++;search_train.use(cors());/*search_train.use(function(req,res,next){
    res.header("Access-Control-Allow-Origin","*");
    res.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept");
    next();
});
*/cov_225j1p4n6i().s[19]++;search_train.post('/admin',async(req,res)=>{cov_225j1p4n6i().f[0]++;cov_225j1p4n6i().s[20]++;try{let admin=(cov_225j1p4n6i().s[21]++,{});cov_225j1p4n6i().s[22]++;admin.name=req.body.name;cov_225j1p4n6i().s[23]++;admin.email=req.body.email;cov_225j1p4n6i().s[24]++;admin.password=req.body.password;let adminModel=(cov_225j1p4n6i().s[25]++,new adminData(admin));cov_225j1p4n6i().s[26]++;await adminModel.save();let payload=(cov_225j1p4n6i().s[27]++,{subject:admin_id});let token=(cov_225j1p4n6i().s[28]++,jwt.sign(payload,'secret'));cov_225j1p4n6i().s[29]++;res.status(200).send({token});cov_225j1p4n6i().s[30]++;res.send(userModel);}catch(err){cov_225j1p4n6i().s[31]++;res.status(401).send(err);}});cov_225j1p4n6i().s[32]++;search_train.post('/admin/login',(req,res)=>{cov_225j1p4n6i().f[1]++;const email=(cov_225j1p4n6i().s[33]++,req.body.email);const admin1=(cov_225j1p4n6i().s[34]++,{email:email,password:req.body.password});cov_225j1p4n6i().s[35]++;adminData.findOne({email:admin1.email},(error,admin)=>{cov_225j1p4n6i().f[2]++;cov_225j1p4n6i().s[36]++;if(error){cov_225j1p4n6i().b[0][0]++;cov_225j1p4n6i().s[37]++;console.log(error);}else{cov_225j1p4n6i().b[0][1]++;cov_225j1p4n6i().s[38]++;if(!admin){cov_225j1p4n6i().b[1][0]++;cov_225j1p4n6i().s[39]++;res.status(401).send('Invalid email');}else{cov_225j1p4n6i().b[1][1]++;const auth=(cov_225j1p4n6i().s[40]++,bcrypt.compare(admin1.password,admin.password));cov_225j1p4n6i().s[41]++;if(auth){cov_225j1p4n6i().b[2][0]++;let payload=(cov_225j1p4n6i().s[42]++,{subject:admin._id});let token=(cov_225j1p4n6i().s[43]++,jwt.sign(payload,'secret'));cov_225j1p4n6i().s[44]++;res.status(200).send({token});}else{cov_225j1p4n6i().b[2][1]++;cov_225j1p4n6i().s[45]++;res.status(401).send('Invalid Password');}}}});});/**
 * @swagger
 * definitions:
 *  Train:
 *   type: object
 *   properties:
 *    trainNumber:
 *     type: Number
 *     description: Train Number
 *     example: 1800
 *    trainName:
 *     type: String
 *     description: Train Name
 *     example: 'Siddheshwar Express'
 *    source:
 *     type: String
 *     description: Source
 *     example: "CSMT"
 *    destination:
 *     type: String
 *     description: Destination
 *     example: "Solapur"
 *    vacantSeats:
 *     type: Number
 *     description: Vacant Seats
 *     example: 100 
 *    distance:
 *     type: Number
 *     description: Distance
 *     example: 400
 *    dTime:
 *     type: String
 *     description: Departure Time
 *     example: "9:30"
 *    aTime:
 *     type: String
 *     description: Arrival Time
 *     example: "20:30"
 */ /**
  * @swagger
  * /addTrains/:
  *  post:
  *   summary: Add train
  *   description: Add train 
  *   requestBody:
  *    content:
  *     application/json: 
  *      schema:
  *       $ref: '#/definitions/Train'
  *   responses:
  *    200:
  *     description: Train added successfully
  *    400:
  *     description: error
  */cov_225j1p4n6i().s[46]++;search_train.post('/addTrains/',(req,res)=>{cov_225j1p4n6i().f[3]++;cov_225j1p4n6i().s[47]++;try{const{trainNumber,trainName,source,destination,vacantSeats,distance,dTime,aTime}=(cov_225j1p4n6i().s[48]++,req.body);let train=(cov_225j1p4n6i().s[49]++,{});cov_225j1p4n6i().s[50]++;train.trainNumber=trainNumber;cov_225j1p4n6i().s[51]++;train.trainName=trainName;cov_225j1p4n6i().s[52]++;train.source=source;cov_225j1p4n6i().s[53]++;train.destination=destination;cov_225j1p4n6i().s[54]++;train.vacantSeats=vacantSeats;cov_225j1p4n6i().s[55]++;train.distance=distance;cov_225j1p4n6i().s[56]++;train.dTime=dTime;cov_225j1p4n6i().s[57]++;train.aTime=aTime;let trainModel=(cov_225j1p4n6i().s[58]++,new trainData(train));cov_225j1p4n6i().s[59]++;trainModel.save();cov_225j1p4n6i().s[60]++;res.status(200).json(trainModel);}catch(err){cov_225j1p4n6i().s[61]++;res.status(400).send(err);}});cov_225j1p4n6i().s[62]++;search_train.post('/trainClass/',async(req,res)=>{cov_225j1p4n6i().f[4]++;const{classType,fare}=(cov_225j1p4n6i().s[63]++,req.body);let trainClass=(cov_225j1p4n6i().s[64]++,{});cov_225j1p4n6i().s[65]++;trainClass.classType=classType;cov_225j1p4n6i().s[66]++;trainClass.fare=fare;let classModel=(cov_225j1p4n6i().s[67]++,new trainClassData(trainClass));cov_225j1p4n6i().s[68]++;await classModel.save();cov_225j1p4n6i().s[69]++;res.json(classModel);});cov_225j1p4n6i().s[70]++;search_train.get('/classType/:classType',async(req,res)=>{cov_225j1p4n6i().f[5]++;var queryParameters=(cov_225j1p4n6i().s[71]++,req.params);var classType=(cov_225j1p4n6i().s[72]++,queryParameters.classType);cov_225j1p4n6i().s[73]++;var getFare=function(classType){cov_225j1p4n6i().f[6]++;cov_225j1p4n6i().s[74]++;trainClassData.aggregate([{$match:{classType:classType}}],function(err,result){cov_225j1p4n6i().f[7]++;cov_225j1p4n6i().s[75]++;if(err){cov_225j1p4n6i().b[3][0]++;cov_225j1p4n6i().s[76]++;console.log(err);}else{cov_225j1p4n6i().b[3][1]++;}cov_225j1p4n6i().s[77]++;res.json(result);});};cov_225j1p4n6i().s[78]++;getFare(classType);});/**
  * @swagger
  * /allTrains/:
  *  get:
  *   summary: List of all trains
  *   description: Get all trains 
  *   
  *   responses:
  *    200:
  *     description: Train List
  *    400:
  *     description: error
  */cov_225j1p4n6i().s[79]++;search_train.get('/allTrains/',(req,res)=>{cov_225j1p4n6i().f[8]++;cov_225j1p4n6i().s[80]++;var getAllTrains=function(){cov_225j1p4n6i().f[9]++;cov_225j1p4n6i().s[81]++;trainData.aggregate([{$match:{}}],function(err,result){cov_225j1p4n6i().f[10]++;cov_225j1p4n6i().s[82]++;if(err){cov_225j1p4n6i().b[4][0]++;cov_225j1p4n6i().s[83]++;console.log(err);cov_225j1p4n6i().s[84]++;res.status(400).send("error in to view Trains");}else{cov_225j1p4n6i().b[4][1]++;}cov_225j1p4n6i().s[85]++;res.status(200).json(result);//res.status(200).send(result);
});};cov_225j1p4n6i().s[86]++;getAllTrains();});cov_225j1p4n6i().s[87]++;search_train.get('/trainList/:source/:destination',(req,res)=>{cov_225j1p4n6i().f[11]++;var queryParameters=(cov_225j1p4n6i().s[88]++,req.params);var source1=(cov_225j1p4n6i().s[89]++,queryParameters.source);var dest=(cov_225j1p4n6i().s[90]++,queryParameters.destination);cov_225j1p4n6i().s[91]++;var getTrainList=function(source,destination){cov_225j1p4n6i().f[12]++;cov_225j1p4n6i().s[92]++;trainData.aggregate([{$match:{source:source,destination:destination}}],function(err,result){cov_225j1p4n6i().f[13]++;cov_225j1p4n6i().s[93]++;if(err){cov_225j1p4n6i().b[5][0]++;cov_225j1p4n6i().s[94]++;console.log(err);cov_225j1p4n6i().s[95]++;return;}else{cov_225j1p4n6i().b[5][1]++;}cov_225j1p4n6i().s[96]++;res.status(200).json(result);//res.status(200).send(result);
});};cov_225j1p4n6i().s[97]++;getTrainList(source1,dest);});// search train by train Name
cov_225j1p4n6i().s[98]++;search_train.get('/train',(req,res)=>{cov_225j1p4n6i().f[14]++;var queryParameters=(cov_225j1p4n6i().s[99]++,req.query);var trainName1=(cov_225j1p4n6i().s[100]++,queryParameters.trainName);cov_225j1p4n6i().s[101]++;var getTrain=function(trainName){cov_225j1p4n6i().f[15]++;cov_225j1p4n6i().s[102]++;trainData.aggregate([{$match:{trainName:trainName}}],function(err,result){cov_225j1p4n6i().f[16]++;cov_225j1p4n6i().s[103]++;if(err){cov_225j1p4n6i().b[6][0]++;cov_225j1p4n6i().s[104]++;console.log(err);cov_225j1p4n6i().s[105]++;return;}else{cov_225j1p4n6i().b[6][1]++;}cov_225j1p4n6i().s[106]++;res.json(result);});};cov_225j1p4n6i().s[107]++;getTrain(trainName1);});cov_225j1p4n6i().s[108]++;search_train.put('/updateTrain/:trainNumber',(req,res)=>{cov_225j1p4n6i().f[17]++;cov_225j1p4n6i().s[109]++;trainData.findOneAndUpdate({trainNumber:req.params.trainNumber},{$set:{trainNumber:req.params.trainNumber,source:req.body.source,destination:req.body.destination,vacantSeats:req.body.vacantSeats,trainName:req.body.trainName,distance:req.body.distance,dTime:req.body.dTime,aTime:req.body.aTime}},{upsert:true},function(err,newTrain){cov_225j1p4n6i().f[18]++;cov_225j1p4n6i().s[110]++;if(err){cov_225j1p4n6i().b[7][0]++;cov_225j1p4n6i().s[111]++;console.log('error occured');cov_225j1p4n6i().s[112]++;console.log(err);}else{cov_225j1p4n6i().b[7][1]++;cov_225j1p4n6i().s[113]++;console.log(newTrain);cov_225j1p4n6i().s[114]++;res.status(204);cov_225j1p4n6i().s[115]++;res.json(newTrain);cov_225j1p4n6i().s[116]++;console.log("Updated");}});});cov_225j1p4n6i().s[117]++;search_train.delete('/deleteTrain/:trainNumber',(req,res)=>{cov_225j1p4n6i().f[19]++;cov_225j1p4n6i().s[118]++;trainNumber=req.params.trainNumber;cov_225j1p4n6i().s[119]++;trainData.findOneAndDelete({trainNumber:req.params.trainNumber}).then(result=>{cov_225j1p4n6i().f[20]++;cov_225j1p4n6i().s[120]++;res.send("Deleted");}).catch(err=>{cov_225j1p4n6i().f[21]++;cov_225j1p4n6i().s[121]++;console.log(err);});});/*  
search_train.use('./controller/trainService',require('./controller/trainService'));
*/cov_225j1p4n6i().s[122]++;search_train.listen(3000);cov_225j1p4n6i().s[123]++;module.exports=search_train;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWluLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiY29ycyIsImNvbm5lY3REQiIsInNlYXJjaF90cmFpbiIsImJjcnlwdCIsImp3dCIsInN3YWdnZXJKc0RvYyIsInN3YWdnZXJVaSIsInN3YWdnZXJPcHRpb25zIiwiZGVmaW5pdGlvbiIsIm9wZW5hcGkiLCJpbmZvIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNvbnRhY3QiLCJuYW1lIiwic2VydmVycyIsImFwaXMiLCJzd2FnZ2VyRG9jcyIsInVzZSIsInNlcnZlIiwic2V0dXAiLCJ0cmFpbkRhdGEiLCJ0cmFpbkNsYXNzRGF0YSIsImFkbWluRGF0YSIsImJvZHlQYXJzZXIiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwicG9zdCIsInJlcSIsInJlcyIsImFkbWluIiwiYm9keSIsImVtYWlsIiwicGFzc3dvcmQiLCJhZG1pbk1vZGVsIiwic2F2ZSIsInBheWxvYWQiLCJzdWJqZWN0IiwiYWRtaW5faWQiLCJ0b2tlbiIsInNpZ24iLCJzdGF0dXMiLCJzZW5kIiwidXNlck1vZGVsIiwiZXJyIiwiYWRtaW4xIiwiZmluZE9uZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImF1dGgiLCJjb21wYXJlIiwiX2lkIiwidHJhaW5OdW1iZXIiLCJ0cmFpbk5hbWUiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsInZhY2FudFNlYXRzIiwiZGlzdGFuY2UiLCJkVGltZSIsImFUaW1lIiwidHJhaW4iLCJ0cmFpbk1vZGVsIiwiY2xhc3NUeXBlIiwiZmFyZSIsInRyYWluQ2xhc3MiLCJjbGFzc01vZGVsIiwiZ2V0IiwicXVlcnlQYXJhbWV0ZXJzIiwicGFyYW1zIiwiZ2V0RmFyZSIsImFnZ3JlZ2F0ZSIsIiRtYXRjaCIsInJlc3VsdCIsImdldEFsbFRyYWlucyIsInNvdXJjZTEiLCJkZXN0IiwiZ2V0VHJhaW5MaXN0IiwicXVlcnkiLCJ0cmFpbk5hbWUxIiwiZ2V0VHJhaW4iLCJwdXQiLCJmaW5kT25lQW5kVXBkYXRlIiwiJHNldCIsInVwc2VydCIsIm5ld1RyYWluIiwiZGVsZXRlIiwiZmluZE9uZUFuZERlbGV0ZSIsInRoZW4iLCJjYXRjaCIsImxpc3RlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJ1OWFBZVk7MkZBZlosS0FBTUEsQ0FBQUEsT0FBTywwQkFBRUMsT0FBTyxDQUFDLFNBQUQsQ0FBVCxDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsSUFBSSwwQkFBQ0QsT0FBTyxDQUFDLE1BQUQsQ0FBUixDQUFWLENBQ0EsS0FBTUUsQ0FBQUEsU0FBUywwQkFBQ0YsT0FBTyxDQUFDLGlCQUFELENBQVIsQ0FBZixDQUNBLEtBQU1HLENBQUFBLFlBQVksMEJBQUNKLE9BQU8sRUFBUixDQUFsQixDQUNBLEtBQU1LLENBQUFBLE1BQU0sMEJBQUNKLE9BQU8sQ0FBQyxRQUFELENBQVIsQ0FBWixDQUNBLEtBQU1LLENBQUFBLEdBQUcsMEJBQUNMLE9BQU8sQ0FBQyxjQUFELENBQVIsQ0FBVCxDQUNBLEtBQU1NLENBQUFBLFlBQVksMEJBQUNOLE9BQU8sQ0FBQyxlQUFELENBQVIsQ0FBbEIsQ0FDQSxLQUFNTyxDQUFBQSxTQUFTLDBCQUFDUCxPQUFPLENBQUMsb0JBQUQsQ0FBUixDQUFmLEMsd0JBQ0FFLFNBQVMsR0FFVDtBQUNBLEtBQU1NLENBQUFBLGNBQWMsMEJBQUMsQ0FDakJDLFVBQVUsQ0FBQyxDQUNQQyxPQUFPLENBQUMsT0FERCxDQUVQQyxJQUFJLENBQUMsQ0FDREMsS0FBSyxDQUFDLFdBREwsQ0FFREMsV0FBVyxDQUFDLHVCQUZYLENBR0RDLE9BQU8sQ0FBQyxDQUNKQyxJQUFJLENBQUMsRUFERCxDQUhQLENBTURDLE9BQU8sQ0FBQyxDQUFDLHVCQUFELENBTlAsQ0FGRSxDQURNLENBWWpCQyxJQUFJLENBQUMsQ0FBQyxpQkFBRCxDQVpZLENBQUQsQ0FBcEIsQ0FlQSxLQUFNQyxDQUFBQSxXQUFXLDJCQUFDWixZQUFZLENBQUNFLGNBQUQsQ0FBYixDQUFqQixDLHlCQUNBTCxZ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R0FBRCxDQUFLQyxHQUFMLEdBQVcsb0RBQ3ZEd0IsV0FBVyxDQUFDekIsR0FBRyxDQUFDeUMsTUFBSixDQUFXaEIsV0FBdkIsQ0FEdUQsMEJBRXhEakMsU0FBUyxDQUFDbUUsZ0JBQVYsQ0FBMkIsQ0FDdkJsQyxXQUFXLENBQUN6QixHQUFHLENBQUN5QyxNQUFKLENBQVdoQixXQURBLENBQTNCLEVBR0dtQyxJQUhILENBR1FmLE1BQU0sRUFBRyxvREFDYjVDLEdBQUcsQ0FBQ2EsSUFBSixDQUFTLFNBQVQsRUFDSCxDQUxELEVBTUMrQyxLQU5ELENBTU83QyxHQUFHLEVBQUksb0RBQ1ZJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTCxHQUFaLEVBQ0gsQ0FSRCxFQVVILENBWkQsRUFvQko7QUFDQTtBQUNBLEUsMEJBSUEzQyxZQUFZLENBQUN5RixNQUFiLENBQW9CLElBQXBCLEUsMEJBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlM0YsWUFBZiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3M9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IGNvcnM9cmVxdWlyZSgnY29ycycpO1xuY29uc3QgY29ubmVjdERCPXJlcXVpcmUoJy4vREIvY29ubmVjdGlvbicpO1xuY29uc3Qgc2VhcmNoX3RyYWluPWV4cHJlc3MoKTtcbmNvbnN0IGJjcnlwdD1yZXF1aXJlKCdiY3J5cHQnKTtcbmNvbnN0IGp3dD1yZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbmNvbnN0IHN3YWdnZXJKc0RvYz1yZXF1aXJlKCdzd2FnZ2VyLWpzZG9jJyk7XG5jb25zdCBzd2FnZ2VyVWk9cmVxdWlyZSgnc3dhZ2dlci11aS1leHByZXNzJyk7XG5jb25uZWN0REIoKTtcblxuLy9zd2FnZ2VyXG5jb25zdCBzd2FnZ2VyT3B0aW9ucz17XG4gICAgZGVmaW5pdGlvbjp7XG4gICAgICAgIG9wZW5hcGk6JzMuMC4wJyxcbiAgICAgICAgaW5mbzp7XG4gICAgICAgICAgICB0aXRsZTonVHJhaW4gQVBJJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOidUcmFpbiBBUEkgaW5mb3JtYXRpb24nLFxuICAgICAgICAgICAgY29udGFjdDp7XG4gICAgICAgICAgICAgICAgbmFtZTonJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlcnZlcnM6W1wiaHR0cDovL2xvY2FsaG9zdDozMDAwXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFwaXM6WydzZWFyY2hfdHJhaW4uanMnXVxufTtcblxuY29uc3Qgc3dhZ2dlckRvY3M9c3dhZ2dlckpzRG9jKHN3YWdnZXJPcHRpb25zKTtcbnNlYXJjaF90cmFpbi51c2UoJy90cmFpbi1kb2NzJyxzd2FnZ2VyVWkuc2VydmUsc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2NzKSk7XG5cbi8vY29uc3QgVHJhaW49IHJlcXVpcmUoJy4vREIvdHJhaW5EYXRhJyk7XG5jb25zdCB0cmFpbkRhdGEgPSByZXF1aXJlKCcuL0RCL3RyYWluRGF0YScpO1xuXG5jb25zdCB0cmFpbkNsYXNzRGF0YSA9IHJlcXVpcmUoJy4vREIvY2xhc3NNb2RlbCcpO1xuLy8gYWRtaW4gZGF0YVxuY29uc3QgYWRtaW5EYXRhPSByZXF1aXJlKCcuL0RCL2FkbWluU2NoZW1hJyk7XG5jb25zdCBib2R5UGFyc2VyPXJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XG4vL3NlYXJjaF90cmFpbi51c2UoZXhwcmVzcy5qc29uKHtleHRlbmRlZCA6IGZhbHNlfSkpO1xuc2VhcmNoX3RyYWluLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoe2V4dGVuZGVkOiBmYWxzZX0pKTtcbnNlYXJjaF90cmFpbi51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuc2VhcmNoX3RyYWluLnVzZShjb3JzKCkpO1xuLypzZWFyY2hfdHJhaW4udXNlKGZ1bmN0aW9uKHJlcSxyZXMsbmV4dCl7XG4gICAgcmVzLmhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiLFwiKlwiKTtcbiAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLFwiT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdFwiKTtcbiAgICBuZXh0KCk7XG59KTtcbiovXG5cbnNlYXJjaF90cmFpbi5wb3N0KCcvYWRtaW4nLGFzeW5jKHJlcSxyZXMpPT57XG4gICAgdHJ5e1xuICAgICAgICBsZXQgYWRtaW49e307XG4gICAgICAgIGFkbWluLm5hbWU9cmVxLmJvZHkubmFtZTtcbiAgICAgICAgYWRtaW4uZW1haWw9cmVxLmJvZHkuZW1haWw7XG4gICAgICAgIGFkbWluLnBhc3N3b3JkPXJlcS5ib2R5LnBhc3N3b3JkO1xuXG4gICAgICAgIGxldCBhZG1pbk1vZGVsPW5ldyBhZG1pbkRhdGEoYWRtaW4pO1xuICAgICAgICBhd2FpdCBhZG1pbk1vZGVsLnNhdmUoKTtcblxuICAgICAgICBsZXQgcGF5bG9hZD17c3ViamVjdDogYWRtaW5faWR9XG4gICAgICAgIGxldCB0b2tlbj1qd3Quc2lnbihwYXlsb2FkLCdzZWNyZXQnKTtcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7dG9rZW59KTtcbiAgICAgICAgcmVzLnNlbmQodXNlck1vZGVsKTtcbiAgICB9XG4gICAgY2F0Y2goZXJyKXtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoZXJyKTtcbiAgICB9XG59KVxuXG5zZWFyY2hfdHJhaW4ucG9zdCgnL2FkbWluL2xvZ2luJywocmVxLCByZXMpPT57XG4gICAgY29uc3QgZW1haWw9cmVxLmJvZHkuZW1haWw7XG4gICAgY29uc3QgYWRtaW4xPXtlbWFpbDogZW1haWwsIHBhc3N3b3JkOnJlcS5ib2R5LnBhc3N3b3JkfVxuICAgIGFkbWluRGF0YS5maW5kT25lKHtlbWFpbDogYWRtaW4xLmVtYWlsfSwgKGVycm9yLCBhZG1pbik9PntcbiAgICAgICAgaWYoZXJyb3Ipe1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBpZighYWRtaW4pe1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCdJbnZhbGlkIGVtYWlsJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgY29uc3QgYXV0aD1iY3J5cHQuY29tcGFyZShhZG1pbjEucGFzc3dvcmQsIGFkbWluLnBhc3N3b3JkKVxuICAgICAgICAgICAgICAgIGlmKGF1dGgpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGF5bG9hZD17c3ViamVjdDogYWRtaW4uX2lkfVxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW49and0LnNpZ24ocGF5bG9hZCwgJ3NlY3JldCcpO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7dG9rZW59KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCgnSW52YWxpZCBQYXNzd29yZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfSlcbiAgIFxufSlcbi8qKlxuICogQHN3YWdnZXJcbiAqIGRlZmluaXRpb25zOlxuICogIFRyYWluOlxuICogICB0eXBlOiBvYmplY3RcbiAqICAgcHJvcGVydGllczpcbiAqICAgIHRyYWluTnVtYmVyOlxuICogICAgIHR5cGU6IE51bWJlclxuICogICAgIGRlc2NyaXB0aW9uOiBUcmFpbiBOdW1iZXJcbiAqICAgICBleGFtcGxlOiAxODAwXG4gKiAgICB0cmFpbk5hbWU6XG4gKiAgICAgdHlwZTogU3RyaW5nXG4gKiAgICAgZGVzY3JpcHRpb246IFRyYWluIE5hbWVcbiAqICAgICBleGFtcGxlOiAnU2lkZGhlc2h3YXIgRXhwcmVzcydcbiAqICAgIHNvdXJjZTpcbiAqICAgICB0eXBlOiBTdHJpbmdcbiAqICAgICBkZXNjcmlwdGlvbjogU291cmNlXG4gKiAgICAgZXhhbXBsZTogXCJDU01UXCJcbiAqICAgIGRlc3RpbmF0aW9uOlxuICogICAgIHR5cGU6IFN0cmluZ1xuICogICAgIGRlc2NyaXB0aW9uOiBEZXN0aW5hdGlvblxuICogICAgIGV4YW1wbGU6IFwiU29sYXB1clwiXG4gKiAgICB2YWNhbnRTZWF0czpcbiAqICAgICB0eXBlOiBOdW1iZXJcbiAqICAgICBkZXNjcmlwdGlvbjogVmFjYW50IFNlYXRzXG4gKiAgICAgZXhhbXBsZTogMTAwIFxuICogICAgZGlzdGFuY2U6XG4gKiAgICAgdHlwZTogTnVtYmVyXG4gKiAgICAgZGVzY3JpcHRpb246IERpc3RhbmNlXG4gKiAgICAgZXhhbXBsZTogNDAwXG4gKiAgICBkVGltZTpcbiAqICAgICB0eXBlOiBTdHJpbmdcbiAqICAgICBkZXNjcmlwdGlvbjogRGVwYXJ0dXJlIFRpbWVcbiAqICAgICBleGFtcGxlOiBcIjk6MzBcIlxuICogICAgYVRpbWU6XG4gKiAgICAgdHlwZTogU3RyaW5nXG4gKiAgICAgZGVzY3JpcHRpb246IEFycml2YWwgVGltZVxuICogICAgIGV4YW1wbGU6IFwiMjA6MzBcIlxuICovXG5cbiAvKipcbiAgKiBAc3dhZ2dlclxuICAqIC9hZGRUcmFpbnMvOlxuICAqICBwb3N0OlxuICAqICAgc3VtbWFyeTogQWRkIHRyYWluXG4gICogICBkZXNjcmlwdGlvbjogQWRkIHRyYWluIFxuICAqICAgcmVxdWVzdEJvZHk6XG4gICogICAgY29udGVudDpcbiAgKiAgICAgYXBwbGljYXRpb24vanNvbjogXG4gICogICAgICBzY2hlbWE6XG4gICogICAgICAgJHJlZjogJyMvZGVmaW5pdGlvbnMvVHJhaW4nXG4gICogICByZXNwb25zZXM6XG4gICogICAgMjAwOlxuICAqICAgICBkZXNjcmlwdGlvbjogVHJhaW4gYWRkZWQgc3VjY2Vzc2Z1bGx5XG4gICogICAgNDAwOlxuICAqICAgICBkZXNjcmlwdGlvbjogZXJyb3JcbiAgKi9cblxuc2VhcmNoX3RyYWluLnBvc3QoJy9hZGRUcmFpbnMvJywocmVxLHJlcyk9PntcbiAgIHRyeXsgY29uc3R7dHJhaW5OdW1iZXIsIHRyYWluTmFtZSwgc291cmNlLCBkZXN0aW5hdGlvbiwgdmFjYW50U2VhdHMsIGRpc3RhbmNlLCBkVGltZSwgYVRpbWV9PSByZXEuYm9keTtcblxuICAgIGxldCB0cmFpbj17fTtcbiAgICB0cmFpbi50cmFpbk51bWJlcj10cmFpbk51bWJlcjtcbiAgICB0cmFpbi50cmFpbk5hbWU9dHJhaW5OYW1lO1xuICAgIHRyYWluLnNvdXJjZT1zb3VyY2U7XG4gICAgdHJhaW4uZGVzdGluYXRpb249ZGVzdGluYXRpb247XG4gICAgdHJhaW4udmFjYW50U2VhdHM9dmFjYW50U2VhdHM7XG4gICAgdHJhaW4uZGlzdGFuY2U9ZGlzdGFuY2U7XG4gICAgdHJhaW4uZFRpbWU9ZFRpbWU7XG4gICAgdHJhaW4uYVRpbWU9YVRpbWU7XG4gICAgbGV0IHRyYWluTW9kZWw9IG5ldyB0cmFpbkRhdGEodHJhaW4pO1xuICAgIHRyYWluTW9kZWwuc2F2ZSgpO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24odHJhaW5Nb2RlbCk7XG59XG4gY2F0Y2goZXJyKXtcbiAgICByZXMuc3RhdHVzKDQwMCkuc2VuZChlcnIpO1xuIH1cbn0pXG5zZWFyY2hfdHJhaW4ucG9zdCgnL3RyYWluQ2xhc3MvJyxhc3luYyhyZXEscmVzKT0+e1xuICAgIGNvbnN0e2NsYXNzVHlwZSwgZmFyZX09IHJlcS5ib2R5O1xuXG4gICAgbGV0IHRyYWluQ2xhc3M9e307XG4gICAgdHJhaW5DbGFzcy5jbGFzc1R5cGU9Y2xhc3NUeXBlO1xuICAgIHRyYWluQ2xhc3MuZmFyZT1mYXJlO1xuICAgICAgIGxldCBjbGFzc01vZGVsPSBuZXcgdHJhaW5DbGFzc0RhdGEodHJhaW5DbGFzcyk7XG4gICAgYXdhaXQgY2xhc3NNb2RlbC5zYXZlKCk7XG5cbiAgICByZXMuanNvbihjbGFzc01vZGVsKTtcbn0pXG5cbnNlYXJjaF90cmFpbi5nZXQoJy9jbGFzc1R5cGUvOmNsYXNzVHlwZScsYXN5bmMocmVxLHJlcyk9PntcbiAgICB2YXIgcXVlcnlQYXJhbWV0ZXJzPXJlcS5wYXJhbXM7XG4gICAgdmFyIGNsYXNzVHlwZT1xdWVyeVBhcmFtZXRlcnMuY2xhc3NUeXBlO1xuICAgIHZhciBnZXRGYXJlPWZ1bmN0aW9uKGNsYXNzVHlwZSl7XG4gICAgICAgIHRyYWluQ2xhc3NEYXRhLmFnZ3JlZ2F0ZShbXG4gICAgICAgICAgICB7JG1hdGNoOntcbiAgICAgICAgICAgICAgICBjbGFzc1R5cGU6Y2xhc3NUeXBlXG4gICAgICAgICAgICB9fVxuICAgICAgICBdLFxuICAgICAgICBmdW5jdGlvbihlcnIsIHJlc3VsdCl7XG4gICAgICAgICAgICBpZihlcnIpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXMuanNvbihyZXN1bHQpO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgZ2V0RmFyZShjbGFzc1R5cGUpO1xufSlcbi8qKlxuICAqIEBzd2FnZ2VyXG4gICogL2FsbFRyYWlucy86XG4gICogIGdldDpcbiAgKiAgIHN1bW1hcnk6IExpc3Qgb2YgYWxsIHRyYWluc1xuICAqICAgZGVzY3JpcHRpb246IEdldCBhbGwgdHJhaW5zIFxuICAqICAgXG4gICogICByZXNwb25zZXM6XG4gICogICAgMjAwOlxuICAqICAgICBkZXNjcmlwdGlvbjogVHJhaW4gTGlzdFxuICAqICAgIDQwMDpcbiAgKiAgICAgZGVzY3JpcHRpb246IGVycm9yXG4gICovXG5cblxuc2VhcmNoX3RyYWluLmdldCgnL2FsbFRyYWlucy8nLChyZXEscmVzKT0+e1xuICAgIFxuICBcbiAgICB2YXIgZ2V0QWxsVHJhaW5zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyYWluRGF0YS5hZ2dyZWdhdGUoW1xuICAgICAgICAgICAgeyAkbWF0Y2g6IHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBcbiAgICAgICAgXSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZChcImVycm9yIGluIHRvIHZpZXcgVHJhaW5zXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdCk7XG4gICAgICAgICAgICAvL3Jlcy5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGdldEFsbFRyYWlucygpO1xuICAgXG4gICAgfSlcblxuICAgXG4gICAgXG5cbnNlYXJjaF90cmFpbi5nZXQoJy90cmFpbkxpc3QvOnNvdXJjZS86ZGVzdGluYXRpb24nLChyZXEscmVzKT0+e1xuICAgIHZhciBxdWVyeVBhcmFtZXRlcnM9cmVxLnBhcmFtcztcbiAgICB2YXIgc291cmNlMT1xdWVyeVBhcmFtZXRlcnMuc291cmNlO1xuICAgdmFyIGRlc3Q9cXVlcnlQYXJhbWV0ZXJzLmRlc3RpbmF0aW9uO1xuICAgIHZhciBnZXRUcmFpbkxpc3QgPSBmdW5jdGlvbihzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHRyYWluRGF0YS5hZ2dyZWdhdGUoW1xuICAgICAgICAgICAgeyAkbWF0Y2g6IHtcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb25cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBcbiAgICAgICAgXSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdCk7XG4gICAgICAgICAgICAvL3Jlcy5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGdldFRyYWluTGlzdChzb3VyY2UxLGRlc3QpO1xuICAgXG4gICAgfSlcblxuXG4gICAgLy8gc2VhcmNoIHRyYWluIGJ5IHRyYWluIE5hbWVcblxuICAgIHNlYXJjaF90cmFpbi5nZXQoJy90cmFpbicsKHJlcSxyZXMpPT57XG4gICAgICAgIHZhciBxdWVyeVBhcmFtZXRlcnM9cmVxLnF1ZXJ5O1xuICAgICAgICBcbiAgICAgIHZhciB0cmFpbk5hbWUxPXF1ZXJ5UGFyYW1ldGVycy50cmFpbk5hbWU7XG4gICAgICAgIFxuICAgICAgICB2YXIgZ2V0VHJhaW4gPSBmdW5jdGlvbih0cmFpbk5hbWUpIHtcbiAgICAgICAgICAgIHRyYWluRGF0YS5hZ2dyZWdhdGUoW1xuICAgICAgICAgICAgICAgIHsgJG1hdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB0cmFpbk5hbWU6IHRyYWluTmFtZVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBdLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzLmpzb24ocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBnZXRUcmFpbih0cmFpbk5hbWUxKTtcbiAgICAgICBcbiAgICAgICAgfSlcbiAgICBcblxuICAgIHNlYXJjaF90cmFpbi5wdXQoJy91cGRhdGVUcmFpbi86dHJhaW5OdW1iZXInLChyZXEscmVzKT0+e1xuICAgICAgICB0cmFpbkRhdGEuZmluZE9uZUFuZFVwZGF0ZSh7XG4gICAgICAgICAgICB0cmFpbk51bWJlcjpyZXEucGFyYW1zLnRyYWluTnVtYmVyXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgICRzZXQ6e3RyYWluTnVtYmVyOnJlcS5wYXJhbXMudHJhaW5OdW1iZXIsc291cmNlOiByZXEuYm9keS5zb3VyY2UsIGRlc3RpbmF0aW9uOiByZXEuYm9keS5kZXN0aW5hdGlvbiwgdmFjYW50U2VhdHM6cmVxLmJvZHkudmFjYW50U2VhdHMsIHRyYWluTmFtZTogcmVxLmJvZHkudHJhaW5OYW1lLCBkaXN0YW5jZTogcmVxLmJvZHkuZGlzdGFuY2UsZFRpbWU6cmVxLmJvZHkuZFRpbWUsIGFUaW1lOnJlcS5ib2R5LmFUaW1lfVxuICAgICAgICB9LFxuICAgICAgICB7dXBzZXJ0OnRydWV9LFxuICAgICAgICBmdW5jdGlvbihlcnIsIG5ld1RyYWluKXtcbiAgICAgICAgICAgIGlmKGVycil7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIG9jY3VyZWQnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV3VHJhaW4pO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjA0KTtcbiAgICAgICAgICAgICAgICByZXMuanNvbihuZXdUcmFpbik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJVcGRhdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICB9KTtcblxuICAgIHNlYXJjaF90cmFpbi5kZWxldGUoJy9kZWxldGVUcmFpbi86dHJhaW5OdW1iZXInLCAocmVxLHJlcyk9PntcbiAgICAgICAgIHRyYWluTnVtYmVyPXJlcS5wYXJhbXMudHJhaW5OdW1iZXI7XG4gICAgICAgIHRyYWluRGF0YS5maW5kT25lQW5kRGVsZXRlKHtcbiAgICAgICAgICAgIHRyYWluTnVtYmVyOnJlcS5wYXJhbXMudHJhaW5OdW1iZXJcblxuICAgICAgICB9KS50aGVuKHJlc3VsdCA9PntcbiAgICAgICAgICAgIHJlcy5zZW5kKFwiRGVsZXRlZFwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9KVxuXG5cblxuXG5cblxuXG4vKiAgXG5zZWFyY2hfdHJhaW4udXNlKCcuL2NvbnRyb2xsZXIvdHJhaW5TZXJ2aWNlJyxyZXF1aXJlKCcuL2NvbnRyb2xsZXIvdHJhaW5TZXJ2aWNlJykpO1xuKi9cblxuXG5cbnNlYXJjaF90cmFpbi5saXN0ZW4oMzAwMCk7XG5cbm1vZHVsZS5leHBvcnRzPXNlYXJjaF90cmFpbjsiXX0=